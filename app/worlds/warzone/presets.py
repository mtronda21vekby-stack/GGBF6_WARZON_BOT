# app/worlds/warzone/presets.py
# -*- coding: utf-8 -*-
from __future__ import annotations

from typing import Dict, Any


def _p(prof: Dict[str, Any], key: str, default: str) -> str:
    v = (prof or {}).get(key)
    return str(v).strip() if v else default


def _mode_style(diff: str) -> str:
    d = (diff or "Normal").lower()
    if "demon" in d:
        return "DEMON"
    if "pro" in d:
        return "PRO"
    return "NORMAL"


def warzone_role_setup_text(profile: Dict[str, Any]) -> str:
    role = _p(profile, "role", "Flex")
    diff = _p(profile, "difficulty", "Normal")
    style = _mode_style(diff)

    base = (
        "üé≠ Warzone ‚Äî –†–æ–ª—å –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è\n"
        f"–¢–≤–æ—è —Ä–æ–ª—å: {role} | –†–µ–∂–∏–º: {diff}\n\n"
    )

    role_blocks = {
        "Slayer": (
            "‚öîÔ∏è –°–ª—ç–π–µ—Ä:\n"
            "‚Ä¢ –¶–µ–ª—å: –ª–æ–º–∞—Ç—å —Ñ–∞–π—Ç—ã –ø–µ—Ä–≤—ã–º —É—Ä–æ–Ω–æ–º, –∞ –Ω–µ –≥–µ—Ä–æ–π—Å—Ç–≤–æ–≤–∞—Ç—å.\n"
            "‚Ä¢ –ü—Ä–∞–≤–∏–ª–æ: 1 –Ω–æ–∫/—É—Ä–æ–Ω ‚Üí —Å–º–µ—â–∞–π—Å—è, –Ω–µ —Å—Ç–æ–π –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ –∫–∞–∫ –º–∞–Ω–µ–∫–µ–Ω.\n"
            "‚Ä¢ –ò–¥–µ–∞–ª: —Ç—ã —Å–æ–∑–¥–∞—ë—à—å —á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ.\n"
        ),
        "Entry": (
            "üö™ –≠–Ω—Ç—Ä–∏:\n"
            "‚Ä¢ –¶–µ–ª—å: –æ—Ç–∫—Ä—ã—Ç—å –¥—Ä–∞–∫—É –∏ –Ω–µ —É–º–µ—Ä–µ—Ç—å –ø–µ—Ä–≤—ã–º (–¥–∞, —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ).\n"
            "‚Ä¢ –¢—ã –≤—Ö–æ–¥–∏—à—å –ø–æ–¥ –∏–Ω—Ñ—É/—Å–º–æ—É–∫/—Ñ–ª–µ—à, –∞ –Ω–µ ‚Äú—è –ø—Ä–æ–≤–µ—Ä—é‚Äù.\n"
            "‚Ä¢ –ó–æ–ª–æ—Ç–æ–µ: –≤—Ö–æ–¥ ‚Üí 2 —Å–µ–∫ –∏–Ω—Ñ–∞ ‚Üí –≤—ã—Ö–æ–¥/—Å–º–µ–Ω–∞ —É–≥–ª–∞.\n"
        ),
        "IGL": (
            "üß† IGL:\n"
            "‚Ä¢ –¶–µ–ª—å: —Ä–µ—à–µ–Ω–∏—è –Ω–∞ 10 —Å–µ–∫—É–Ω–¥ —Ä–∞–Ω—å—à–µ –≤—Ä–∞–≥–∞.\n"
            "‚Ä¢ –î–∞–π 1 –∫–æ–ª–ª: ‚Äú–ø—É—à–∏–º/–æ—Ç—Ö–æ–¥–∏–º/–¥–µ—Ä–∂–∏–º‚Äù + 1 –ø—Ä–∏—á–∏–Ω–∞.\n"
            "‚Ä¢ –¢—ã –Ω–µ –æ–±—è–∑–∞–Ω —Ç–æ–ø-—Ñ—Ä–∞–≥–∞—Ç—å, —Ç—ã –æ–±—è–∑–∞–Ω –Ω–µ —Ç—É–ø–∏—Ç—å.\n"
        ),
        "Support": (
            "üõ° –°–∞–ø–ø–æ—Ä—Ç:\n"
            "‚Ä¢ –¶–µ–ª—å: —Ä–µ—Å—É—Ä—Å—ã/–ø—Ä–∏–∫—Ä—ã—Ç–∏–µ/—Ä–µ—Å—ã/—Å–µ–π–≤.\n"
            "‚Ä¢ –¢—ã –≤—ã–∏–≥—Ä—ã–≤–∞–µ—à—å –º–∞—Ç—á–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é.\n"
            "‚Ä¢ –£ —Ç–µ–±—è –≤—Å–µ–≥–¥–∞ –ø–ª–∞–Ω B: –¥—ã–º/–ø–ª–µ–π—Ç/—Ä–µ–≤–∏–≤.\n"
        ),
        "Flex": (
            "üåÄ –§–ª–µ–∫—Å:\n"
            "‚Ä¢ –¶–µ–ª—å: –∑–∞–∫—Ä—ã–≤–∞—Ç—å –¥—ã—Ä—ã: –≥–¥–µ —Å–ª–∞–±–µ–µ ‚Äî —Ç—É–¥–∞ –∏ —Ç—ã.\n"
            "‚Ä¢ –¢—ã –º–µ–Ω—è–µ—à—å —Ç–µ–º–ø: –Ω–∞–¥–æ ‚Äî –∞–≥—Ä–µ—Å—Å–∏—è, –Ω–∞–¥–æ ‚Äî —Å–µ–π–≤.\n"
            "‚Ä¢ –¢–≤–æ–π —Å–∫–∏–ª–ª: –±—ã—Å—Ç—Ä–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫—Ç–æ –≥–¥–µ –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å.\n"
        ),
    }

    block = role_blocks.get(role, role_blocks["Flex"])

    spice = ""
    if style == "NORMAL":
        spice = "\nüôÇ Normal: –∏–≥—Ä–∞–µ–º —É–º–Ω–æ, –±–µ–∑ ‚Äú–ø—Ä—ã–∂–∫–∞ –≤–µ—Ä—ã‚Äù."
    elif style == "PRO":
        spice = "\nüî• Pro: —Ç–µ–º–ø –≤—ã—à–µ ‚Äî –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ —Å –º–æ–∑–≥–æ–º, –Ω–µ —Å —ç–≥–æ."
    else:
        spice = "\nüòà Demon: –∞–≥—Ä–µ—Å—Å–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∞‚Ä¶ –µ—Å–ª–∏ —É —Ç–µ–±—è –≤—ã—Ö–æ–¥ –∏ —Ç–∞–π–º–∏–Ω–≥. –ò–Ω–∞—á–µ —Ç—ã –ø—Ä–æ—Å—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª—É—Ç."

    return base + block + spice


def warzone_aim_sens_text(profile: Dict[str, Any]) -> str:
    inp = _p(profile, "input", "Controller")
    plat = _p(profile, "platform", "PC")
    diff = _p(profile, "difficulty", "Normal")
    style = _mode_style(diff)

    if inp == "KBM":
        return (
            "üéØ Warzone ‚Äî Aim/Sens (KBM)\n"
            f"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: {plat} | –†–µ–∂–∏–º: {diff}\n\n"
            "–ë–∞–∑–∞ (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å > –º–∞–≥–∏—è):\n"
            "‚Ä¢ DPI: 800 (–∏–ª–∏ 1600)\n"
            "‚Ä¢ eDPI: –¥–µ—Ä–∂–∏ –≤ –∑–æ–Ω–µ, –≥–¥–µ —Ç—Ä–µ–∫–∏–Ω–≥ –Ω–µ –¥—Ä–æ–∂–∏—Ç\n"
            "‚Ä¢ ADS: –æ–¥–∏–Ω –º–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–∞ –Ω–µ–¥–µ–ª—é (–Ω–µ –ø—Ä—ã–≥–∞–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å)\n\n"
            "–ú–∏–Ω–∏-–ø—Ä–∞–≤–∏–ª–∞:\n"
            "‚Ä¢ –ï—Å–ª–∏ ‚Äú–ø–µ—Ä–µ–ª–µ—Ç–∞–µ—à—å‚Äù —Ü–µ–ª—å ‚Äî —Å–Ω–∏–∂–∞–π sens –Ω–∞ 5‚Äì10%\n"
            "‚Ä¢ –ï—Å–ª–∏ –Ω–µ —É—Å–ø–µ–≤–∞–µ—à—å –¥–æ–≤–æ–¥–∏—Ç—å ‚Äî –ø–æ–≤—ã—à–∞–π –Ω–∞ 3‚Äì7%\n\n"
            f"–°—Ç–∏–ª—å {style}:\n"
            "‚Ä¢ NORMAL: —Ç—Ä–µ–∫–∏–Ω–≥ + –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞\n"
            "‚Ä¢ PRO: –º–∏–∫—Ä–æ–∫–æ—Ä—Ä–µ–∫—Ç + –ø—Ä–µ—Ñ–∞–π—Ä —É–≥–ª–æ–≤\n"
            "‚Ä¢ DEMON: –±—ã—Å—Ç—Ä—ã–µ –ø–∏–∫–∏ + reset –ø–æ–∑–∏—Ü–∏–∏ (–∏–Ω–∞—á–µ —Ç—ã —Ç—Ä—É–ø)\n"
        )

    # Controller
    return (
        "üéØ Warzone ‚Äî Aim/Sens (Controller)\n"
        f"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: {plat} | –†–µ–∂–∏–º: {diff}\n\n"
        "–ë–∞–∑–∞ (–±–µ–∑ —à–∞–º–∞–Ω—Å—Ç–≤–∞):\n"
        "‚Ä¢ Sens: —Å—Ä–µ–¥–Ω—è—è/–≤—ã—Å–æ–∫–∞—è, –Ω–æ –±–µ–∑ –¥—Ä–æ–∂–∏\n"
        "‚Ä¢ Deadzone: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑ –¥—Ä–∏—Ñ—Ç–∞ (–æ–±–∞ —Å—Ç–∏–∫–∞)\n"
        "‚Ä¢ Response curve: –≤—ã–±–µ—Ä–∏ (linear/dynamic) –∏ –¥–µ—Ä–∂–∏—Å—å 7 –¥–Ω–µ–π\n\n"
        "–ú–∏–Ω–∏-–ø—Ä–∞–≤–∏–ª–∞:\n"
        "‚Ä¢ –ï—Å–ª–∏ —Å—Ä—ã–≤–∞–µ—à—å –ø—Ä–∏—Ü–µ–ª –Ω–∞ –±–ª–∏–∑–∫–æ–π ‚Äî —á—É—Ç—å –Ω–∏–∂–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å\n"
        "‚Ä¢ –ï—Å–ª–∏ –Ω–µ –¥–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—à—å –Ω–∞ —Å—Ä–µ–¥–Ω–∏—Ö ‚Äî —á—É—Ç—å –≤—ã—à–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å\n\n"
        f"–°—Ç–∏–ª—å {style}:\n"
        "‚Ä¢ NORMAL: —Å–ø–æ–∫–æ–π–Ω—ã–π –ø—Ä–∏—Ü–µ–ª, –º–µ–Ω—å—à–µ –ø–∞–Ω–∏–∫–∏\n"
        "‚Ä¢ PRO: –±—ã—Å—Ç—Ä–µ–µ –≤—Ö–æ–¥ –≤ —Ç—Ä–µ–∫–∏–Ω–≥, –º–µ–Ω—å—à–µ ‚Äú–ø–æ–¥–≥–ª—è–¥—ã–≤–∞–Ω–∏–π‚Äù\n"
        "‚Ä¢ DEMON: –∞–≥—Ä–µ—Å—Å–∏—è —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º ‚Äî –±–µ–≥ –Ω–µ –æ—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–∏—Ü–µ–ª\n"
    )


def warzone_controller_tuning_text(profile: Dict[str, Any]) -> str:
    plat = _p(profile, "platform", "PC")
    diff = _p(profile, "difficulty", "Normal")
    style = _mode_style(diff)

    return (
        "üéÆ Warzone ‚Äî Controller Tuning\n"
        f"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: {plat} | –†–µ–∂–∏–º: {diff}\n\n"
        "1) Deadzone:\n"
        "‚Ä¢ Left: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑ –¥—Ä–∏—Ñ—Ç–∞\n"
        "‚Ä¢ Right: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑ –¥—Ä–æ–∂–∏\n\n"
        "2) Aim Assist (–ª–æ–≥–∏–∫–∞):\n"
        "‚Ä¢ –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ, –∫–æ–≥–¥–∞ —Ç—ã –¥–≤–∏–≥–∞–µ—à—å—Å—è (—Å—Ç—Ä–µ–π—Ñ), –∞ –Ω–µ —Å—Ç–æ–∏—à—å –∫–∞–∫ —Å—Ç–æ–ª–±.\n\n"
        "3) ADS/–ø—Ä–∏—Ü–µ–ª:\n"
        "‚Ä¢ –î–µ—Ä–∂–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–µ–¥–µ–ª—é ‚Äî –º–æ–∑–≥ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è.\n\n"
        f"{'üòà Demon: —Ç—ã –Ω–µ ‚Äú—Å–ø—Ä–µ–π–µ—Ä‚Äù, —Ç—ã —Ö–∏—Ä—É—Ä–≥. 2‚Äì4 –ø—É–ª–∏ –≤ –≥–æ–ª–æ–≤—É –∏ —Å–º–µ–Ω–∞ —É–≥–ª–∞.' if style=='DEMON' else 'üôÇ –°–æ–≤–µ—Ç: –º–µ–Ω—å—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Äî –±–æ–ª—å—à–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.'}\n"
    )


def warzone_kbm_tuning_text(profile: Dict[str, Any]) -> str:
    plat = _p(profile, "platform", "PC")
    diff = _p(profile, "difficulty", "Normal")
    style = _mode_style(diff)

    return (
        "‚å®Ô∏è Warzone ‚Äî KBM Tuning\n"
        f"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: {plat} | –†–µ–∂–∏–º: {diff}\n\n"
        "1) –°–µ–Ω—Å–∞:\n"
        "‚Ä¢ –û–¥–Ω–∞ –±–∞–∑–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é\n"
        "‚Ä¢ ADS –±–µ–∑ —Å—é—Ä–ø—Ä–∏–∑–æ–≤\n\n"
        "2) –ü—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ:\n"
        "‚Ä¢ –¢—Ä–µ–∫–∏–Ω–≥: –≤–µ–¥–∏ –∫–æ—Ä–ø—É—Å, –Ω–µ ‚Äú–ø—Ä—ã–≥–∞–π‚Äù –ø—Ä–∏—Ü–µ–ª–æ–º\n"
        "‚Ä¢ –ü–∏–∫–∏: 1 –∏–Ω—Ñ–∞ ‚Üí 1 —É—Ä–æ–Ω/–∫–∏–ª–ª ‚Üí —Å–º–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏\n\n"
        f"{'üî• Pro: –ø—Ä–µ—Ñ–∞–π—Ä + –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ —É–≥–ª–æ–≤.' if style=='PRO' else ('üòà Demon: –ø–∏–∫–Ω–∏ –∏ –∏—Å—á–µ–∑–Ω–∏. –í—Ç–æ—Ä–∞—è –ø–æ–ø—ã—Ç–∫–∞ –æ–±—ã—á–Ω–æ –≤ –ª–æ–±.' if style=='DEMON' else 'üôÇ Normal: —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏.')}\n"
    )


def warzone_movement_positioning_text(profile: Dict[str, Any]) -> str:
    diff = _p(profile, "difficulty", "Normal")
    style = _mode_style(diff)

    return (
        "üß† Warzone ‚Äî –ú—É–≤–º–µ–Ω—Ç/–ü–æ–∑–∏—Ü–∏–æ–Ω–∫–∞\n"
        f"–†–µ–∂–∏–º: {diff}\n\n"
        "–ü—Ä–∞–≤–∏–ª–æ ‚Ññ1: —Ç—ã —É–º–∏—Ä–∞–µ—à—å –æ—Ç –ø–æ–∑–∏—Ü–∏–∏ —á–∞—â–µ, —á–µ–º –æ—Ç –∞–∏–º–∞.\n\n"
        "–°–ï–ô–ß–ê–° (–≤ –±–æ—é):\n"
        "‚Ä¢ 2 –≤—ã—Ö–æ–¥–∞ —É –ø–æ–∑–∏—Ü–∏–∏? –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî —ç—Ç–æ –ª–æ–≤—É—à–∫–∞.\n"
        "‚Ä¢ –ü–æ—Å–ª–µ —É—Ä–æ–Ω–∞/–Ω–æ–∫–æ–≤ —Å–º–µ—â–∞–π—Å—è –Ω–∞ 1‚Äì2 –º–µ—Ç—Ä–∞/—É–≥–æ–ª.\n"
        "‚Ä¢ –ù–µ —Ä–µ–ø–∏–∫–∞–π –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —É–≥–æ–ª –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥.\n\n"
        "–î–ê–õ–¨–®–ï (–ø—Ä–∏–≤—ã—á–∫–∏):\n"
        "‚Ä¢ –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫: –º–∏–Ω–∏-—Å–∫–∞–Ω ‚Äî –≥–¥–µ –≤—Ä–∞–≥–∏? –≥–¥–µ —É–∫—Ä—ã—Ç–∏–µ? –≥–¥–µ –≤—ã—Ö–æ–¥?\n"
        "‚Ä¢ –ò–≥—Ä–∞ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∑–æ–Ω—ã > ‚Äú–ø–æ–≥–æ–Ω—è –∑–∞ –∫–∏–ª–ª–∞–º–∏‚Äù.\n\n"
        f"{'üòà Demon: –ø—É—à —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É —Ç–µ–±—è —Ç–∞–π–º–∏–Ω–≥ + –∏–Ω—Ñ–∞. –ò–Ω–∞—á–µ —ç—Ç–æ –Ω–µ Demon, —ç—Ç–æ —Å–∞–º–æ—É–±–∏–π—Å—Ç–≤–æ —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏.' if style=='DEMON' else 'üôÇ –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ª—É—á—à–∏–π –º—É–≤–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –Ω–µ ‚Äú—Å–ª–∞–π–¥—ã‚Äù, –∞ —É–º–Ω—ã–π —É–≥–æ–ª –∏ –≤—ã—Ö–æ–¥.'}\n"
    )


def warzone_audio_visual_text(profile: Dict[str, Any]) -> str:
    diff = _p(profile, "difficulty", "Normal")
    style = _mode_style(diff)

    return (
        "üéß Warzone ‚Äî –ê—É–¥–∏–æ/–í–∏–¥–µ–æ\n"
        f"–†–µ–∂–∏–º: {diff}\n\n"
        "–ê—É–¥–∏–æ:\n"
        "‚Ä¢ –°–ª—ã—à–∏—à—å —à–∞–≥–∏ ‚Äî —Å–æ–æ–±—â–∞–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–µ —ç–º–æ—Ü–∏—é.\n"
        "  (–ø–ª–æ—Ö–æ: ‚Äú–û–ù –¢–£–¢!!!‚Äù; —Ö–æ—Ä–æ—à–æ: ‚Äú—à–∞–≥–∏ —Å–ø—Ä–∞–≤–∞, 2 —ç—Ç–∞–∂‚Äù) \n"
        "‚Ä¢ –ï—Å–ª–∏ –≤ –∑–∞–º–µ—Å–µ —à—É–º ‚Äî —Å–º–æ—Ç—Ä–∏ –º–∏–Ω–∏-–∫–∞—Ä—Ç—É/–º–µ—Ç–∫–∏/—Ç—Ä–∞—Å—Å–µ—Ä—ã.\n\n"
        "–í–∏–¥–µ–æ:\n"
        "‚Ä¢ –Ø—Ä–∫–æ—Å—Ç—å/–∫–æ–Ω—Ç—Ä–∞—Å—Ç —Ç–∞–∫, —á—Ç–æ–±—ã —Å–∏–ª—É—ç—Ç—ã —á–∏—Ç–∞–ª–∏—Å—å.\n"
        "‚Ä¢ –°—Ç–∞–±–∏–ª—å–Ω—ã–π FPS –≤–∞–∂–Ω–µ–µ –∫—Ä–∞—Å–æ—Ç—ã.\n\n"
        f"{'üî• Pro: –∏–Ω—Ñ–∞ = –≤–∞–ª—é—Ç–∞. –°–Ω–∞—á–∞–ª–∞ –∏–Ω—Ñ–∞, –ø–æ—Ç–æ–º –ø–æ–Ω—Ç—ã.' if style=='PRO' else ('üòà Demon: —Ç—ã –Ω–µ –æ–±—è–∑–∞–Ω —Å–ª—ã—à–∞—Ç—å –≤—Å—ë. –¢—ã –æ–±—è–∑–∞–Ω —É–≥–∞–¥—ã–≤–∞—Ç—å –ø–æ –ª–æ–≥–∏–∫–µ.' if style=='DEMON' else 'üôÇ Normal: —É–±–µ—Ä–∏ –ª–∏—à–Ω–µ–µ, –æ—Å—Ç–∞–≤—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å.')}\n"
    )
